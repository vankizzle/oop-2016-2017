# Игри с карти

В тази задача ще трябва да имплементирате тестета за три
игри с карти + специфични функционалности за всяка игра.

Игрите са: [Война](https://en.wikipedia.org/wiki/War_\(card_game\)), [Белот](https://en.wikipedia.org/wiki/Belote) и [Сантасе (66)](https://en.wikipedia.org/wiki/Sixty-six_\(card_game\)).

Освен програмен код, трябва да предадете и `.txt` файл с кратко обяснение защо сте организирали класовете си по начина, по който го направите.

## Уточнения

*   Бои == `suits`
*   Рангове == `ranks`
*   Стандартното тесте е с 52 карти, четири бои (`suits`) и 13 ранга (`ranks`):

        Spades:   2 3 4 5 6 7 8 9 10 Jack Queen King Ace
        Hearts:   2 3 4 5 6 7 8 9 10 Jack Queen King Ace
        Diamonds: 2 3 4 5 6 7 8 9 10 Jack Queen King Ace
        Clubs:    2 3 4 5 6 7 8 9 10 Jack Queen King Ace

## Вход и изход на програмата

Програмата трябва да прочете от подадените ѝ аргументи низ с операции, които трябва да извърши. Т.е. извиква се по следния начин:
```
>./a.out War.shuffle.deal.highest.highest.deal
```
Операциите са разделени с `.` и винаги започват с име на играта, за която е колодата. След всяка команда трябва да се изписва резултат към конзолата със `cout`, който да завършва със символ за нов ред.

От горния пример за извикване на програмата това, която трябва да се случи е следното:

*  Да създаде тесте за война и да го изпише в конзолата
*  Да размеси тестето и да го изпише в козолата
*  Да извади от тестето една ръка и да я изпише в конзолата
*  Да извади от раздадената ръка най-високата карта (в контекста на война) и да я изпише в конзолата
*  Да повтори горната операция
*  Да извади от тестето втора ръка и да я изпише в конзолата

Картите в конзолата се изписват във формата `<първа буква на боята><първа буква на ранг/число>`. Например: `SK` (поп пика), `D10` (десятка каро).

Цяла колода или ръка се изписва като картите се разделят с един спейс - ` `.

## Операции

Операциите за създаване на тестета са - `War`, `Belote` и `Santase`.
След коя да е операция за създаване на тесте, можете да извършите някоя от следните операции:

 *   `size` - принтира в конзолата текущия брой на картите в колодата
 *   `draw_top_card` - премахва най-горната карта от колодата и я принтира
 *   `draw_bottom_card` - премахва най-долната карта от колодата и я принтира
 *   `top_card` - принтира горната карта **без** да я премахва от колодата
 *   `bottom_card` - принтира долната карта **без** да я премахва от колодата
 *   `shuffle` - разбърква картите в колодата ги принтира
 *   `sort` - сортира колодата и принтира картите във възходящ ред (`clubs`, `diamonds`, `hearts`, `spades`) първо по боя и след това в зависимост от силата на картите в съответната игра, за която е тестето. Най-отдолу остава най-слабата боя (`clubs`), а най-отгоре - най-силната (`spades`).
**Пример:** За Война най-отдолу ще е картата `C2`, а най-отгоре `SA`. 
 *   `deal` - „раздава карти“ от колодата като взима от най-горната към най-долната (най-горната карта в тестето ще е първа в ръката). Броят на картите, които се раздават, е специфичен за всяко тесте. Принтира раздадената ръка от първата към последната карта.
 **Забележка:** Ако няма достатъчно карти в тестето, при изпълнение на `deal`, `draw_top_card`, `draw_bottom_card`, `top_card` или `bottom_card` трябва да изпише грешка: `ERROR: Not enough cards in deck.`, и да прекрати изпълнението на останалите команди.
 *   След като е изпълнена операцията `deal`, можете да извикате следните операции:
    *   `remaining` - принти в текущия брой на картите в ръката
    *   `play_card` - премахва и принти първата карта от ръката. Ако няма повече карти в ръката връща съобщение за грешка `ERROR: Not enough cards in hand.` и прекратява изпълнението на останалите команди.
    *   `highest` - премахва и принти най-силната (първо по боя и след това в зависимост от силата на картите в съответната игра) карта в ръката. Отново проверява и връща съобщение за грешка, ако няма достатъчно карти в ръката.

Операциите за ръка могат да се изпълняват само след като е раздадена ръка. Операциите за тесте могат да се изпълняват дори и след като е раздадена ръка. Ако след като е създадена ръка, бъде изпълнена операция за тесте, раздадената ръка бива „изтрита“ и повече върху нея не могат да се изпълняват операции. Ако искаме да изпълняваме операции за ръка след това, трябва да раздадем нова ръка.

След детайлите за съответните игри има примери за валидни и невалидни поредици от операции.

### Детайли за Война

*   Рангове в нарастващ ред - `2 3 4 5 6 7 8 9 10 Jack Queen King Ace`
*   Общ брой карти - 52
*   Брой карти в ръка - 26 (тук `deal` ще върне ръка с първите 26 карти от колодата)

### Детайли и команди, специфични за Белот

*   Рангове в нарастващ ред - `7 8 9 Jack Queen King 10 Ace`
*   Общ брой карти - 32
*   Брой карти в ръка - 8 (тук `deal` ще върне ръка с първите 8 карти от колодата)
*   След като е изпълнена операцията `deal`, можете да извиката коя да е от следните операции:
    *   `highest_of_suit:suit` - връща най-силната карта от подадената боя, където `suit` e един от следните низове: `spades`, `hearts`, `diamonds`, `clubs`. Ако в ръката липсва карта, от подадената боя, трябва да се изведе `празен ред`. 
    *   `belote?` - изписва в конзолата `true` ако в ръката има `King` и `Queen` от една боя и `false` в противен случай
    *   `tierce?` - дали в ръката има поредица от три карти с последователни рангове от една и съща боя
    *   `quarte?` - дали в ръката има поредица от четири карти с последователни рангове от една и съща боя
    *   `quint?` - дали в ръката има поредица от пет карти с последователни рангове от една и съща боя

### Детайли и команди, специфични за Сантасе

*   Рангове в нарастващ ред - `9 Jack Queen King 10 Ace`
*   Общ брой карти - 24
*   Брой карти в ръка - 6 (тук `deal` ще върне ръка с първите 6 карти от колодата)
*   След като е изпълнена операцията `deal`, можете да извиката коя да е от следните операции:
    *   `twenty?:trump_suit` - дали ръката съдържа `King` и `Queen` от една боя, но не са козове
    *   `forty?:trump_suit` - дали ръката съдържа `King` и `Queen` от една боя и са козове
    **Забележка:** `trump_suit` указва името на боята, която е коз. Отново може да е един от стринговете `spades`, `hearts`, `diamonds`, `clubs` 

### Други детайли по командите

Трябва да се изпише съобщение за грешка `ERROR: Unknown command.` и да се прекрати изпълнението, ако:

   *   следва команда върху раздадена ръка (`highest`, `play_card` и т.н.) бъде извикана преди да е създадена ръка (например: `War.highest`) и след като ръката е „изтрита“
   *   следва команда върху раздадена ръка от друг вид тесте (например: `War.deal.twenty?:spades`, войната не поддържа командата `twenty?:spades` върху ръцете)
   *   следва неизвестна команда

Примери за валидни операции:
   *   `War.shuffle.sort.deal.highest.top_card`
   *   `War.deal.deal.highest`
   *   `Belote.deal.quint?.highest.remaining`
   *   `Santase.deal.fourty?:spades.remaining.highest`

Примери за невалидни операции и съответните грешките, които трябва да се изпишат:

   *   `War.highest` - `ERROR: Unknown command.`
   *   `War.deal.top_card.highest` - `ERROR: Unknown command.`
   *   `War.deal.deal.deal` - изписва първата ръка, втората ръка и съобщение за грешка `ERROR: Not enough cards in deck.`
   *   `War.deal.deal.draw_bottom_card` - като горната команда
   *   `Santase.twenty?:spades` - `ERROR: Unknown command.`
   *   `Santase.deal.twenty?` - `ERROR: Unknown command.`
   *   `Santase.deal.quint?` - `ERROR: Unknown command.`
   *   `War.Belote` - `ERROR: Unknown command.`
   *   `Belote.deal.play_card.play_card.play_card.play_card.play_card.play_card.play_card.play_card.play_card` - ще изпише една по една картите в ръката и съобщение за грешка `ERROR: Not enough cards in hand.`

## Важни неща

Много е важно да не се спирате на първото решение, което напишете.
Напишете нещо, след което се опитайте да го подобрите.
Полезно е за всяко парче код да си задавате следните въпроси:

- Има ли начин да се опрости?
- Дублира ли се логиката на друго място? Ако да - къде би било по-логично да се намира тя?
- Класът, в който се намира, трябва ли да се интересува от тези неща? Ако не - къде би било логично да се премести?

Относно йерархията от класове, която използвате, питайте се често следното:

- Колко трудно в кода ви може да се добави ново тесте? Ами нов ранг или боя?

Ще имате на разположение три седмици (т.е. 3 уикенда). Започнете домашното по-рано и задавайте въпроси при неясноти в условието или посоката, в която да продължите.

## Оценяване

   *   Стил на програмиране (важат нещата от предишното домашно) - 1 т.
   *   Добра йерархия от класове и добра обосновка на йерархията от класове - 1 т.
   *   Може да създава тесте за война и операциите за него работят, както се очаква - 2 т.
   *   Общите операции за всички колоди работят, както се очаква - 1 т.
   *   Специфичните операции за Сантасе работят, както се очаква - 1 т.
   *   Специфичните операции за Белот работят, както се очаква - 1 т.

## Срок

Крайният срок за предаване на домашното в мудъл е 26.12.2016 16:00.
